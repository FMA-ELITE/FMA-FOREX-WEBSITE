<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forex Mastery Academy | Chipper Cash Payments</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --gold: #FFD700;
            --dark: #1A1A2E;
            --blue: #16213E;
            --green: #2ECC71;
            --purple: #9B59B6;
            --orange: #E67E22;
            --red: #E74C3C;
            --chipper-blue: #0066FF;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            color: white;
            background-color: var(--dark);
            line-height: 1.6;
        }
        
        /* Header */
        .header {
            background: linear-gradient(135deg, var(--blue), #0F3460);
            padding: 40px 20px;
            text-align: center;
            border-bottom: 5px solid var(--gold);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: "";
            background-image: url('GBPUSD_2025-04-11_12-20-17.png');
            background-size: cover;
            background-position: center;
            opacity: 0.1;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 0;
        }
        
        .logo {
            position: absolute;
            top: 20px;
            left: 20px;
            height: 60px;
            width: auto;
            z-index: 100;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Payment Form Styles */
        .form-input {
            display: block;
            width: 100%;
            padding: 12px 15px;
            margin: 10px 0;
            border: 1px solid var(--gold);
            border-radius: 5px;
            background: rgba(255,255,255,0.1);
            color: white;
            font-size: 16px;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--green);
            box-shadow: 0 0 5px rgba(46, 204, 113, 0.5);
        }
        
        .status-message {
            font-size: 14px;
            margin-top: 15px;
            min-height: 50px;
            line-height: 1.5;
            padding: 10px;
            border-radius: 5px;
        }
        
        /* Thank You Page */
        .thank-you {
            text-align: center;
            padding: 50px 20px;
            display: none;
        }
        
        .thank-you h2 {
            color: var(--green);
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        
        .btn {
            display: inline-block;
            background: var(--gold);
            color: black;
            padding: 15px 30px;
            margin-top: 20px;
            border-radius: 8px;
            font-weight: bold;
            text-decoration: none;
            transition: all 0.3s ease;
            text-align: center;
            width: 100%;
            box-sizing: border-box;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        
        .btn:hover {
            background: var(--green);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4);
        }
        
        .btn:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-chipper {
            background: var(--chipper-blue);
            color: white;
        }
        
        /* Loading spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
            margin-right: 10px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Payment details box */
        .payment-details {
            background: rgba(0, 102, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid var(--chipper-blue);
            margin: 20px 0;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .logo {
                position: static;
                display: block;
                margin: 0 auto 20px;
            }
            
            .header {
                padding: 30px 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Main Website -->
    <div id="mainWebsite">
        <header class="header">
            <img src="fma logo.jpg" alt="Forex Mastery Academy Logo" class="logo">
            <div class="container">
                <h1>FOREX MASTERY ACADEMY</h1>
                <p>Professional Trading Signals & Personalized Mentorship</p>
            </div>
        </header>

        <div class="container">
            <!-- Payment Form -->
            <div style="max-width: 500px; margin: 50px auto; background: rgba(26, 26, 46, 0.9); padding: 30px; border-radius: 15px; border: 2px solid var(--gold); box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
                <h2 style="text-align: center; color: var(--gold); margin-bottom: 30px;">Complete Your Payment</h2>
                
                <div style="margin-bottom: 25px;">
                    <label for="customerName" style="display: block; margin-bottom: 5px;">Full Name</label>
                    <input type="text" id="customerName" class="form-input" placeholder="Enter your full name" required>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <label for="customerPhone" style="display: block; margin-bottom: 5px;">Phone Number</label>
                    <input type="tel" id="customerPhone" class="form-input" placeholder="Enter your phone number (e.g., 0755123456)" required>
                </div>
                
                <div style="margin-bottom: 25px;">
                    <label for="customerEmail" style="display: block; margin-bottom: 5px;">Email (Optional)</label>
                    <input type="email" id="customerEmail" class="form-input" placeholder="Enter your email address">
                </div>
                
                <div class="payment-details">
                    <h3 style="margin-top: 0; color: var(--chipper-blue);"><i class="fas fa-wallet"></i> Payment Details</h3>
                    <p><strong>Product:</strong> Forex Signals (1 Month)</p>
                    <p><strong>Amount:</strong> UGX 50,000</p>
                    <p><strong>Payment Method:</strong> Chipper Cash</p>
                </div>
                
                <div id="paymentStatus" class="status-message"></div>
                
                <button id="payBtn" class="btn btn-chipper" onclick="payWithChipper()">
                    <i class="fas fa-wallet"></i> Pay with Chipper Cash
                </button>
                
                <p style="text-align: center; margin-top: 20px; font-size: 14px;">
                    <i class="fas fa-lock"></i> Secure payment processed by Chipper Cash
                </p>
            </div>
        </div>
    </div>
    
    <!-- Thank You Page (Hidden Initially) -->
    <div id="thankYouPage" class="thank-you">
        <div class="container">
            <div style="max-width: 600px; margin: 0 auto;">
                <div style="font-size: 60px; color: var(--green); margin-bottom: 20px;">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h2>Payment Successful!</h2>
                <p style="font-size: 1.2em; margin-bottom: 30px;">Thank you for your payment via Chipper Cash. Your access details will be sent to you shortly.</p>
                
                <div style="background: rgba(46, 204, 113, 0.2); padding: 20px; border-radius: 10px; margin: 30px 0;">
                    <h3 style="margin-top: 0;">What Happens Next:</h3>
                    <ol style="text-align: left; padding-left: 20px;">
                        <li style="margin-bottom: 10px;">You'll receive a WhatsApp message with your login details within 5 minutes</li>
                        <li style="margin-bottom: 10px;">Check your email for payment confirmation and receipt</li>
                        <li style="margin-bottom: 10px;">Access your dashboard immediately after receiving credentials</li>
                        <li>Our support team will contact you to schedule your onboarding session</li>
                    </ol>
                </div>
                
                <div style="margin-top: 40px;">
                    <p style="margin-bottom: 20px;">Need immediate assistance?</p>
                    <button class="btn" onclick="window.location.href='https://wa.me/256702523892'">
                        <i class="fab fa-whatsapp"></i> Chat with Support
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Product details
        const productPrice = 50000; // 50,000 UGX
        const productName = "Forex Signals (1 Month)";
        
        // Pay with Chipper Cash
        function payWithChipper() {
            const name = document.getElementById('customerName').value.trim();
            const phone = document.getElementById('customerPhone').value.trim();
            const email = document.getElementById('customerEmail').value.trim();
            
            // Validate inputs
            if (!name || !phone) {
                showStatus('Please enter your name and phone number', 'error');
                return;
            }
            
            // Validate phone number (Ugandan format)
            if (!/^(0|256|\+256)(7|3)\d{8}$/.test(phone)) {
                showStatus('Please enter a valid Ugandan phone number (e.g., 0755123456)', 'error');
                return;
            }
            
            // Format phone number
            const formattedPhone = formatPhoneNumber(phone);
            
            // Show processing status
            showStatus('Preparing Chipper Cash payment...', 'processing');
            
            // Disable button and show spinner
            const btn = document.getElementById('payBtn');
            btn.disabled = true;
            btn.innerHTML = '<span class="spinner"></span> Processing...';
            
            // In a real implementation, you would:
            // 1. Call your backend to create a payment request
            // 2. Get a payment link from Chipper Cash API
            // 3. Redirect user to that link
            
            // For demo purposes, we'll simulate this process
            setTimeout(() => {
                // Simulate successful payment
                simulateChipperPayment(name, formattedPhone, email);
            }, 2000);
        }
        
        // Simulate Chipper Cash payment (in real app, use their API)
        function simulateChipperPayment(name, phone, email) {
            // This would be replaced with actual Chipper Cash API integration
            // For now, we'll just show the thank you page
            
            showThankYouPage();
            sendConfirmation(name, phone, email);
            
            // In a real implementation, you would:
            // 1. Verify the payment with Chipper Cash webhook
            // 2. Check payment status
            // 3. Then show success message
        }
        
        // Show thank you page
        function showThankYouPage() {
            document.getElementById('mainWebsite').style.display = 'none';
            document.getElementById('thankYouPage').style.display = 'block';
            window.scrollTo(0, 0);
        }
        
        // Send confirmation messages
        function sendConfirmation(name, phone, email) {
            // WhatsApp message
            const whatsappMessage = `Hello ${name},\n\nThank you for your Chipper Cash payment of UGX ${productPrice.toLocaleString()} for *${productName}*.\n\nWe're processing your access and will send your login details shortly.\n\nTransaction Reference: FMA-${Date.now().toString().slice(-6)}\n\nFor any questions, reply to this message.\n\n- Forex Mastery Academy Team`;
            
            // Open WhatsApp in new tab
            setTimeout(() => {
                window.open(`https://wa.me/256${phone.replace(/^0/, '')}?text=${encodeURIComponent(whatsappMessage)}`, '_blank');
            }, 2000);
            
            // If email was provided, simulate sending email receipt
            if (email) {
                console.log(`Email receipt would be sent to: ${email}`);
            }
        }
        
        // Format phone number to standard format
        function formatPhoneNumber(phone) {
            // Remove any non-digit characters
            let cleaned = phone.replace(/\D/g, '');
            
            // Convert to local format if it starts with country code
            if (cleaned.startsWith('256')) {
                cleaned = '0' + cleaned.slice(3);
            }
            
            // Ensure it's 10 digits starting with 0
            if (cleaned.length === 9 && !cleaned.startsWith('0')) {
                cleaned = '0' + cleaned;
            }
            
            return cleaned;
        }
        
        // Show status message
        function showStatus(message, type) {
            const statusEl = document.getElementById('paymentStatus');
            statusEl.innerHTML = message;
            
            // Clear previous classes
            statusEl.className = 'status-message';
            
            // Add type-specific class
            if (type === 'error') {
                statusEl.style.color = 'var(--red)';
                statusEl.style.backgroundColor = 'rgba(231, 76, 60, 0.1)';
                statusEl.style.border = '1px solid var(--red)';
            } else if (type === 'processing') {
                statusEl.style.color = 'var(--gold)';
                statusEl.style.backgroundColor = 'rgba(255, 215, 0, 0.1)';
                statusEl.style.border = '1px solid var(--gold)';
            } else {
                statusEl.style.color = 'white';
            }
        }
    </script>
</body>
</html>